#### schema设计

- 良好的逻辑设计和物理设计是高性能的基石

#### 选择优化的数据类型

- 选择数据类型的几个简单原则：
    - 更小的通常更好
        - 更小的数据通常更快，因为他们占用的磁盘、内存和CPU缓存更少，并且处理时消耗的CPU时钟周期也更少。
        - 但也不能低估存储值的范围，如果无法确定哪个数据类型是最好的，请选择你认为不会超过的最小的数据类型。
    - 简单为好
        - 简单的数据类型的操作，通常需要更少的CPU周期，例如整型数据比字符型数据的比较操作代价更低，因为字符集和排序规则使字符型数据的比较更复杂。
    - 尽量避免存储NULL
        - 通常情况下最好指定为NOT NULL，除非明确需要存储NULL值。如果查询中包含可能为NULL的列，对Mysql来说更难优化，因为可能为NULL的列使得索引、索引统计和值的比较都更复杂。
        - 可为NULL的列或使用更多的存储空间

#### 数据类型别名

- Mysql为了兼容，使用更多的别名，例如：INTEGER（映射到INT）、BOOL（映射到TINYINT）、NUMERIC（映射到DECIMAL），  
  使用SHOW CREATE TABLE检查，会发现MYSQL报告的是基本类型，而不是别名。

#### 数据类型

- 整型
    - 有两种类型的数字：
        - 整数（whole number）
            - 如果是整数，可以使用这几种整数类型：TINYINT、SMALLINT、MEDIUMINT、INT、BIGINT，他们分别对应8，16，24，32，64位存储空间。
            - 整数有unsigned属性，这大致可以使正数的上限提高一倍。
            - 整数计算通常使用64位的BIGINT，（一些聚合函数是例外，他们使用DECIMAL、DOUBLE进行计算）
            - Mysql可以为整数指定宽度，例如INT（11），这对大多数应用毫无疑义，他不会限制值的合法范围，  
              只是规定了MYSQL的一些交互式工具（例如Mysql命令行客户端）  
              用来显示字符的个数。对于存储和计算来说INT（1）和INT（20）是一样的。
        - 实数（real number，带有小数部分的数字。有理数和无理数统称为实数，有理数 ：整数和分数统称为有理数.
          无理数 ：无限不循环小数.如√2,√3,√5,π,0.1010010001……,实数范围就大了,除了整数,还有小数,开根的,乱七八糟的都是实数,也就是说,
          可以运用数学算法]、各种定理能算出来的,都是实数.他区别于虚数.可以说,虚数是不存在的数,只是在一些高等数学等高科技领域计算时会用到.他们一起又统称复数.）
            - 实数是带有小数部分的数字。然而他们不仅适用于带小数的数字，也可以使用DECIMAL存储比BIGINT更大的整数。
            - Float占用4字节
            - Double占用8字节
            - Decimal，由于额外的空间和计算成本，应该尽量只在对小数进行精确计算时才使用decimal。可以考虑采用BIGINT来代替decimal，可以在使用时放大或者缩小对应的倍数。
        - Mysql默认采用double进行浮点类型的内部计算。整数计算通常采用64位的BIGINT。

- 字符串类型
    - varchar和char是两种最主要的字符串类型。遗憾的是很难精确的解释这两种类型是如何存储在磁盘中的，因为这跟存储引擎的具体实现有关。
    - varchar,
        - 字符串长度定义的是字符数，而不是字节数，多字节字符可能需要多个字节来存储一个字符。
        - varchar用于存储可变长度字符串，是最常见的字符串数据类型，他比固定长度的更节省空间，因为他仅使用必要的空间。
        - 下面情况使用varchar是合适的：字符串列的最大长度远大于平均长度；列的跟新很少，所以碎片不是问题；使用了像UTF-8这样复杂的字符集，每个字符都使用不同的字节进行存储。
    - char，
    - 适合存储非常短的字符串，或者适用于所有值的长度都几乎相同的情况，对于经常修改的数据，char也比varchar更好，因为固定长度的行不容易出现碎片。对于非常短的行，char比varchar也更高效。
- 